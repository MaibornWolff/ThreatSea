<!doctype html>
<html>
  <head>
    <meta charset="utf-8" />
    <title>Threat Report - 19.11.21</title>
  </head>

  <style>
    ul {
      list-style-type: none;
    }

    td,
    th {
      text-align: left;
    }

    table {
      width: 100%;
    }

    .threat-card {
      background-color: #dedede;
      padding: 10px;
      border-radius: 5px;
      margin-top: 10px;
    }

    .threat-card--dark {
      background-color: #ababab;
      padding: 10px;
      border-radius: 5px;
      margin-top: 10px;
    }

    .sub-card {
      display: flex;
      justify-content: center;
      flex-direction: row;
    }

    .sub-table {
      display: flex;
      flex-direction: row;
      justify-content: space-around;
    }
  </style>

  <body>
    <img src="http://localhost:8000/images/logo.png" style="height: auto; width: 80px" />
    <h1>Threats-Report</h1>
    <div class="threat-card--dark">
      <h2>Project: {{project.name}}</h2>
      <p>{{project.description}}</p>
    </div>
    <img src="{{this.systemImage}}" width="100%" height="auto" />
    <div>
      {{#each threats}}
      <div class="threat-card">
        <h2>Threat {{this.name}}</h2>
        <p>{{this.description}}</p>
        <h3>Point of Attack: {{this.pointOfAttack}}</h3>
        <h3>Attacker: {{this.attacker}}</h3>
        <table>
          <tr>
            <th>
              <h3>Possible Consequences:</h3>
            </th>
            <th>
              <h3>Assets</h3>
            </th>
          </tr>
          <tr>
            <td>
              <div class="sub-card">
                <ul>
                  <li>Probability : {{this.probability}}</li>
                  <li>Damage: {{this.damage}}</li>
                  <li>Risk: {{this.risk}}</li>
                  <li>Confidentiality: {{this.confidentiality}}</li>
                  <li>Integrity: {{this.integrity}}</li>
                  <li>Availability: {{this.availability}}</li>
                </ul>
              </div>
            </td>
            <td>
              <div class="sub-card">
                <ul>
                  {{#each this.assets}}
                  <li>{{this}}</li>
                  {{/each}}
                </ul>
              </div>
            </td>
          </tr>
        </table>
        <span class="sub-table">
          <h3>Measures</h3>
          <h4>Possible measures</h4>
          <ul>
            {{#each this.measures}}
            <li>
              <h4>{{this.name}}</h4>
            </li>
            <li>Probability : {{this.probability}}</li>
            <li>Damage: {{this.damage}}</li>
            <li>Risk: {{this.risk}}</li>
            <li>Confidentiality: {{this.confidentiality}}</li>
            <li>Integrity: {{this.integrity}}</li>
            <li>Availability: {{this.availability}}</li>
            {{/each}}
          </ul>
        </span>
      </div>
      {{/each}}
    </div>
  </body>
</html>
